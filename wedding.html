<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Invitation â€” ì§€ìˆ˜ & í•˜ì€</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Pretendard:wght@300;400;500&display=swap" rel="stylesheet">
  <style>
    *{box-sizing:border-box; margin:0; padding:0}
    html,body{height:100%}
    body{font-family:'Pretendard',sans-serif; color:#1b2230; background:#fff;}
    a{color:inherit; text-decoration:none}
    img{max-width:100%; display:block}
    button{font-family:inherit}

    /* ê³µí†µ í™”ë©´(í’€ìŠ¤í¬ë¦°) */
    .screen{position:relative; height:100vh; width:100%; overflow:hidden}
    .center{position:absolute; inset:0; display:flex; align-items:center; justify-content:center}

    /* 0) ëœë”©: ëª¨ì´í‹° ëŠë‚Œì˜ ë¯¸ë‹ˆë©€ ì‹œì‘í™”ë©´ */
    .landing{background:linear-gradient(180deg,#fff,#faf8f6)}
    .landing-inner{display:grid; gap:12px; text-align:center; padding:24px}
    .landing .names{font-family:'Playfair Display',serif; font-size:clamp(28px,6vw,44px); font-weight:600}
    .landing .date{letter-spacing:.28em; color:#8b6e66}
    .scroll-cue{position:absolute; bottom:20px; left:0; right:0; text-align:center; font-size:12px; color:#999}
    .scroll-cue:after{content:""; display:block; width:1px; height:36px; margin:8px auto 0; background:#ddd; animation:drop 1.6s infinite}
    @keyframes drop{0%{transform:translateY(-6px); opacity:.3} 50%{opacity:1} 100%{transform:translateY(6px); opacity:.3}}

    /* 0.5) ë¯¸ë‹ˆ ê²Œì„: Scratch Reveal (ìº”ë²„ìŠ¤) */
    .game{background:#000}
    .game-bg{position:absolute; inset:0; background:url('your-photo.jpg') center/cover no-repeat; filter:saturate(1.05) contrast(1.03)}
    .game-overlay{position:absolute; inset:0; background:radial-gradient(1200px 800px at 50% -10%, rgba(0,0,0,.65), rgba(0,0,0,.85));}
    .game-canvas{position:absolute; inset:0}
    .game-ui{position:absolute; inset:0; display:grid; place-items:center; text-align:center; color:#fff; pointer-events:none}
    .game-ui .date{font-family:'Playfair Display',serif; font-size:clamp(56px,18vw,160px); line-height:.9; text-shadow:0 8px 40px rgba(0,0,0,.45)}
    .hint{position:absolute; bottom:24px; left:0; right:0; text-align:center; color:#e5e7eb; font-size:13px; opacity:.85}
    .skip{position:absolute; top:16px; right:16px; z-index:10; padding:10px 14px; border-radius:999px; border:1px solid rgba(255,255,255,.35); background:rgba(0,0,0,.4); color:#fff; cursor:pointer}
    .reveal-fade{opacity:1; transition:opacity .8s ease}
    .reveal-fade.done{opacity:0; pointer-events:none}

    /* 1) ì²« ìŠ¤í¬ë¡¤ í™”ë©´: í™”ë³´+ëŒ€í˜• ë‚ ì§œ 260118 + íŒ¨ëŸ´ë™ìŠ¤ */
    .feature{background:#000}
    .feature img.parallax{position:absolute; inset:-5vh 0 0 0; width:100%; height:110%; object-fit:cover; filter:saturate(1.05) contrast(1.03)}
    .feature .veil{position:absolute; inset:0; background:linear-gradient(to top,rgba(0,0,0,.45),rgba(0,0,0,.15))}
    .corner{position:absolute; font-family:'Playfair Display',serif; color:#fff; letter-spacing:.18em; font-size:clamp(12px,2.6vw,16px)}
    .tl{top:20px; left:20px} .tr{top:20px; right:20px} .bl{bottom:20px; left:20px} .br{bottom:20px; right:20px}
    .date-stack{position:absolute; inset:0; display:grid; place-items:center; text-align:center}
    .date-stack .num{font-family:'Playfair Display',serif; font-weight:600; line-height:0.88; color:#fff; text-shadow:0 2px 18px rgba(0,0,0,.35)}
    .date-stack .num span{display:block; font-size:clamp(72px,18vw,180px)}

    .particles{pointer-events:none; position:absolute; inset:0;}
    .bubble{position:absolute; width:6px; height:6px; border-radius:999px; background:rgba(255,255,255,.8); filter:blur(1px); animation:f 8s linear infinite}
    @keyframes f{from{transform:translateY(20vh)} to{transform:translateY(-120vh)}}

    /* ===== ê¸°ë³¸ ì„¹ì…˜(ì‚¬ìš©ì ì œê³µ ë ˆì´ì•„ì›ƒ) ===== */
    .section{padding:40px 20px; text-align:center}
    .section.alt{background:#fafafa}
    h2{font-size:1.5rem; margin-bottom:20px}
    .date-line{font-size:1.2rem; margin:10px 0}
    .location{font-size:1.05rem; color:#555}
    .btn{display:inline-block; padding:12px 24px; margin-top:20px; background:#c89f9c; color:#fff; border-radius:30px; font-weight:600}

    /* íˆì–´ë¡œ ì„¹ì…˜(ì‚¬ìš©ì ì œê³µ) */
    .hero{height:400px; display:flex; align-items:center; justify-content:center; color:#fff; font-size:2rem; font-weight:700; text-shadow:1px 1px 5px rgba(0,0,0,.6); background:url('wedding.jpg') no-repeat center/cover}

    /* --- ì§€ë„ ì„¹ì…˜ (ì¹´ì¹´ì˜¤/ë„¤ì´ë²„ íƒ­) --- */
    .map-section{padding:40px 16px}
    .tabs{display:flex; gap:8px; justify-content:center; margin-bottom:12px}
    .tab{padding:8px 12px; border:1px solid #e6e2dd; border-radius:999px; background:#fff; cursor:pointer}
    .tab[aria-selected="true"]{background:#1b2230; color:#fff; border-color:#1b2230}
    .map-frames{max-width:820px; margin:0 auto; border:1px solid #ece7e2; border-radius:16px; overflow:hidden; box-shadow:0 10px 30px rgba(17,24,39,.08)}
    .map-frames iframe{width:100%; height:360px; border:0}
    .map-links{display:flex; flex-wrap:wrap; gap:8px; justify-content:center; margin-top:10px}
    .map-links a{padding:10px 14px; border:1px solid #ece7e2; border-radius:12px}

    /* --- ê°¤ëŸ¬ë¦¬ ìŠ¬ë¼ì´ë” --- */
    .slider{position:relative; overflow:hidden; max-width:920px; margin:0 auto}
    .track{display:flex; gap:10px; scroll-snap-type:x mandatory; overflow-x:auto; -webkit-overflow-scrolling:touch; padding-bottom:6px}
    .slide{flex:0 0 80%; max-width:80%; scroll-snap-align:center; border-radius:16px; overflow:hidden; border:1px solid #ece7e2}
    .nav-btn{position:absolute; top:50%; transform:translateY(-50%); background:rgba(0,0,0,.5); color:#fff; border:0; width:42px; height:42px; border-radius:50%; display:grid; place-items:center; cursor:pointer}
    .nav-btn.prev{left:8px} .nav-btn.next{right:8px}

    /* --- RSVP í¼ --- */
    .rsvp{max-width:760px; margin:0 auto; text-align:left}
    form{display:grid; gap:12px}
    .field{display:grid; gap:6px}
    label{font-size:13px; color:#6b7280}
    input, select, textarea{width:100%; padding:12px 14px; border-radius:12px; border:1px solid #e6e2dd; background:#fff}
    input:focus, select:focus, textarea:focus{outline:2px solid rgba(127,108,241,.25)}
    .submit{padding:12px 16px; border-radius:12px; background:linear-gradient(135deg,#7f6cf1,#a78bfa); border:0; color:#fff; cursor:pointer}
    .status{font-size:14px; color:#6b7280}

    /* --- ê³µìœ  ë°” --- */
    .sharebar{position:sticky; bottom:12px; display:flex; justify-content:center; gap:10px; padding:10px;}
    .sharebar .cta{display:inline-flex; align-items:center; gap:8px; padding:12px 16px; border-radius:14px; border:1px solid #e6e2dd; background:#fff; box-shadow:0 6px 20px rgba(17,24,39,.08)}
    .sharebar .primary{background:linear-gradient(135deg,#7f6cf1,#a78bfa); color:#fff; border-color:transparent}

    /* --- ìŠ¤í¬ë¡¤ í˜ì´ë“œ ì¸ --- */
    .reveal{opacity:0; transform:translateY(12px); transition:opacity .7s ease, transform .7s ease}
    .reveal.show{opacity:1; transform:none}
  </style>
</head>
<body>
  <!-- 0) ëœë”© í™”ë©´ (ëª¨ì´í‹° ëŠë‚Œì˜ ë¯¸ë‹ˆë©€) -->
  <section class="screen landing" id="landing">
    <div class="center">
      <div class="landing-inner">
        <div class="date">2026 Â· 01 Â· 18</div>
        <div class="names">ì§€ìˆ˜ & í•˜ì€</div>
        <div class="muted">INVITATION</div>
      </div>
    </div>
    <div class="scroll-cue">SCROLL</div>
  </section>

  <!-- 0.5) ë¯¸ë‹ˆ ê²Œì„: Scratch Reveal (ì§§ê³  ê°€ë²¼ìš´ ì¸í„°ë™ì…˜) -->
  <section class="screen game" id="game" aria-label="ìŠ¤í¬ë˜ì¹˜ ê²Œì„">
    <div class="game-bg" aria-hidden="true"></div>
    <button class="skip" id="skipGame" type="button">ê±´ë„ˆë›°ê¸°</button>
    <!-- ì–´ë‘ìš´ ì˜¤ë²„ë ˆì´ + ê¸ì–´ì„œ ì§€ìš°ëŠ” ìº”ë²„ìŠ¤ -->
    <div class="reveal-fade" id="gameCover">
      <canvas class="game-canvas" id="scratch"></canvas>
      <div class="game-overlay"></div>
    </div>
    <!-- ì¤‘ì•™ UI (ëª©í‘œ í…ìŠ¤íŠ¸) -->
    <div class="game-ui" aria-hidden="true">
      <div class="date" id="gameDate">26 01 18</div>
      <div class="hint">í™”ë©´ì„ ê¸ì–´ ë‚ ì§œë¥¼ ë“œëŸ¬ë‚´ì£¼ì„¸ìš” Â· 40% ì´ìƒ ë“œëŸ¬ë‚˜ë©´ ìë™ìœ¼ë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤</div>
    </div>
  </section>

  <!-- 1) ì²« ìŠ¤í¬ë¡¤ ì‹œì‘ í™”ë©´: í™”ë³´ + 260118 + íŒ¨ëŸ´ë™ìŠ¤ -->
  <section class="screen feature" id="feature">
    <img class="parallax" src="your-photo.jpg" alt="ì»¤í”Œ í™”ë³´">
    <div class="veil"></div>
    <div class="corner tl">SIMPLY</div>
    <div class="corner tr">MEANT</div>
    <div class="corner bl">TO BE</div>
    <div class="corner br">TOGETHER</div>
    <div class="date-stack" aria-label="ê²°í˜¼ì‹ ë‚ ì§œ">
      <div class="num">
        <span>26</span>
        <span>01</span>
        <span>18</span>
      </div>
    </div>
    <div class="particles" aria-hidden="true">
      <div class="bubble" style="left:10%; animation-duration:9s"></div>
      <div class="bubble" style="left:24%; width:8px; height:8px; animation-duration:11s"></div>
      <div class="bubble" style="left:58%; animation-duration:10s"></div>
      <div class="bubble" style="left:72%; width:10px; height:10px; animation-duration:12s"></div>
      <div class="bubble" style="left:86%; animation-duration:8s"></div>
    </div>
  </section>

  <!-- 2) ì´ˆëŒ€ ë©”ì‹œì§€ (í’€ìŠ¤í¬ë¦°) -->
  <section class="screen invite" id="invite">
    <div class="center">
      <div class="invite-inner reveal">
        <h2>INVITATION</h2>
        <h3>ì†Œì¤‘í•œ ë¶„ë“¤ì„ ì´ˆëŒ€í•©ë‹ˆë‹¤</h3>
        <p>ì €í¬ ë‘ ì‚¬ëŒì˜ ì‘ì€ ë§Œë‚¨ì´</p>
        <p>ì‚¬ë‘ì˜ ê²°ì‹¤ì„ ì´ë£¨ì–´</p>
        <p>ì†Œì¤‘í•œ ê²°í˜¼ì‹ì„ ì˜¬ë¦¬ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
      </div>
    </div>
  </section>

  <!-- 3) ì‚¬ìš©ì ì œê³µ ì„¹ì…˜ë“¤ -->
  <div class="hero reveal">
    <div>ìš°ë¦¬ ê²°í˜¼í•©ë‹ˆë‹¤</div>
  </div>

  <div class="section reveal">
    <h2>ì‹ ë‘ ì§€ìˆ˜ â™¥ ì‹ ë¶€ í•˜ì€</h2>
    <p class="date-line">2025ë…„ 10ì›” 18ì¼ (í† ) ì˜¤í›„ 1ì‹œ</p>
    <p class="location">ì„œìš¸ ê°•ë‚¨êµ¬ â—‹â—‹ì›¨ë”©í™€ 2ì¸µ</p>
    <a href="https://map.naver.com" class="btn">ì˜¤ì‹œëŠ” ê¸¸</a>
  </div>

  <!-- 4) ì§€ë„ ì„¹ì…˜: ì¹´ì¹´ì˜¤ / ë„¤ì´ë²„ ì„ë² ë“œ íƒ­ -->
  <section class="map-section reveal" aria-labelledby="map-h">
    <h2 id="map-h" style="text-align:center; margin-bottom:14px">ì˜¤ì‹œëŠ” ê¸¸</h2>
    <div class="tabs" role="tablist">
      <button class="tab" role="tab" aria-selected="true" aria-controls="kakao-map" id="kakao-tab">ì¹´ì¹´ì˜¤ë§µ</button>
      <button class="tab" role="tab" aria-selected="false" aria-controls="naver-map" id="naver-tab">ë„¤ì´ë²„ì§€ë„</button>
    </div>
    <div class="map-frames">
      <!-- ì‹¤ì œ ì ìš© ì‹œ: ì•„ë˜ iframeì„ ì¹´ì¹´ì˜¤ RoughMap ìŠ¤í¬ë¦½íŠ¸ í˜¹ì€ ì§€ë„ í¼ê°€ê¸° URLë¡œ êµì²´í•˜ì„¸ìš”. -->
      <iframe id="kakao-map" title="ì¹´ì¹´ì˜¤ë§µ" role="tabpanel" aria-labelledby="kakao-tab" srcdoc="<style>body,html{margin:0;height:100%} .ph{height:100%;display:flex;align-items:center;justify-content:center;font-family:sans-serif;color:#555;background:#f3f2f0}</style><div class='ph'>ì¹´ì¹´ì˜¤ë§µ ì„ë² ë“œ ìë¦¬<br/>ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ RoughMap ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¶™ì—¬ì£¼ì„¸ìš”</div>"></iframe>
      <iframe id="naver-map" title="ë„¤ì´ë²„ì§€ë„" role="tabpanel" aria-labelledby="naver-tab" hidden srcdoc="<style>body,html{margin:0;height:100%} .ph{height:100%;display:flex;align-items:center;justify-content:center;font-family:sans-serif;color:#555;background:#f3f2f0}</style><div class='ph'>ë„¤ì´ë²„ ì§€ë„ ì„ë² ë“œ ìë¦¬<br/>ì¥ì†Œ ê³µìœ ì˜ í¼ê°€ê¸° URLì„ ë¶™ì—¬ì£¼ì„¸ìš”</div>"></iframe>
    </div>
    <div class="map-links" role="group" aria-label="ì§€ë„ ì•± ì—´ê¸°">
      <a href="https://naver.me/xxxx" target="_blank" rel="noopener">ë„¤ì´ë²„ì§€ë„ ì—´ê¸°</a>
      <a href="https://kko.to/xxxx" target="_blank" rel="noopener">ì¹´ì¹´ì˜¤ë§µ ì—´ê¸°</a>
      <a href="https://maps.apple.com/?address=..." target="_blank" rel="noopener">Apple ì§€ë„</a>
      <a href="https://maps.google.com/?q=..." target="_blank" rel="noopener">Google ì§€ë„</a>
    </div>
  </section>

  <!-- 5) ê°¤ëŸ¬ë¦¬ ìŠ¬ë¼ì´ë” (í„°ì¹˜ ìŠ¤ì™€ì´í”„) -->
  <section class="section alt reveal" aria-labelledby="gal-h">
    <h2 id="gal-h">ê°¤ëŸ¬ë¦¬</h2>
    <div class="slider" id="slider">
      <button class="nav-btn prev" aria-label="ì´ì „">â€¹</button>
      <div class="track" id="track">
        <figure class="slide"><img src="photo1.jpg" alt="ì‚¬ì§„ 1"></figure>
        <figure class="slide"><img src="photo2.jpg" alt="ì‚¬ì§„ 2"></figure>
        <figure class="slide"><img src="photo3.jpg" alt="ì‚¬ì§„ 3"></figure>
        <figure class="slide"><img src="photo4.jpg" alt="ì‚¬ì§„ 4"></figure>
      </div>
      <button class="nav-btn next" aria-label="ë‹¤ìŒ">â€º</button>
    </div>
  </section>

  <!-- 6) ë§ˆìŒ ì „í•˜ì‹¤ ê³³ -->
  <div class="section reveal">
    <h2>ë§ˆìŒ ì „í•˜ì‹¤ ê³³</h2>
    <p>ì‹ ë‘ ê³„ì¢Œ: êµ­ë¯¼ì€í–‰ 123-456-789</p>
    <p>ì‹ ë¶€ ê³„ì¢Œ: ìš°ë¦¬ì€í–‰ 987-654-321</p>
  </div>

  <!-- 7) RSVP -->
  <section class="section reveal" id="rsvp" aria-labelledby="rsvp-h">
    <h2 id="rsvp-h">RSVP ì°¸ì„ íšŒì‹ </h2>
    <div class="rsvp">
      <form id="rsvpForm" novalidate>
        <div class="field">
          <label for="name">ì„±í•¨</label>
          <input id="name" name="name" placeholder="í™ê¸¸ë™" required />
        </div>
        <div class="field">
          <label for="phone">ì—°ë½ì²˜</label>
          <input id="phone" name="phone" type="tel" inputmode="numeric" placeholder="010-1234-5678" required />
        </div>
        <div class="field">
          <label for="attend">ì°¸ì„ ì—¬ë¶€</label>
          <select id="attend" name="attend" required>
            <option value="">ì„ íƒí•˜ì„¸ìš”</option>
            <option>ì°¸ì„</option>
            <option>ë¶ˆì°¸</option>
            <option>ë¯¸ì •</option>
          </select>
        </div>
        <div class="field">
          <label for="guest">ë™ë°˜ ì¸ì›</label>
          <select id="guest" name="guest">
            <option>0ëª…</option>
            <option>1ëª…</option>
            <option>2ëª…</option>
          </select>
        </div>
        <div class="field">
          <label for="note">ë©”ì‹œì§€ (ì„ íƒ)</label>
          <textarea id="note" name="note" rows="3" placeholder="ì¶•í•˜ ë©”ì‹œì§€ë‚˜ ì „ë‹¬ ì‚¬í•­"></textarea>
        </div>
        <button class="submit" type="submit">ì „ì†¡í•˜ê¸°</button>
        <p id="rsvpMsg" class="status" role="status" aria-live="polite"></p>
      </form>
      <!-- Google Form/Webhook ì—°ê²° ê°€ì´ë“œ: ì•„ë˜ ìƒìˆ˜ì— ê°’ì„ ë„£ìœ¼ë©´ POSTí•©ë‹ˆë‹¤.  -->
      <!-- GOOGLE_FORM_ACTION ì˜ˆ: https://docs.google.com/forms/d/e/í¼ID/formResponse  -->
      <!-- ê° í•­ëª©ì€ entry.xxxxxx í‚¤ë¡œ ë§¤í•‘ í•„ìš” (í¼ì—ì„œ í•­ëª© ID í™•ì¸)  -->
    </div>
  </section>

  <!-- 8) ê³µìœ  ë°” -->
  <div class="sharebar" aria-label="ê³µìœ  ë° ì „í™”">
    <button class="cta" id="callGroom">ì‹ ë‘ì—ê²Œ ì „í™”</button>
    <button class="cta" id="callBride">ì‹ ë¶€ì—ê²Œ ì „í™”</button>
    <button class="cta primary" id="shareBtn">ë§í¬ ê³µìœ </button>
  </div>

  <script>
    // ====== Scratch ê²Œì„: ìº”ë²„ìŠ¤ ì„¤ì • ======
    const scratch = document.getElementById('scratch');
    const gameCover = document.getElementById('gameCover');
    const skipGame = document.getElementById('skipGame');
    const DPR = Math.min(window.devicePixelRatio || 1, 2);
    let ctx, drawing = false, clearedRatio = 0, sampleCooldown = 0;

    function resizeCanvas(){
      const rect = scratch.getBoundingClientRect();
      scratch.width = Math.floor(rect.width * DPR);
      scratch.height = Math.floor(rect.height * DPR);
      scratch.style.width = rect.width + 'px';
      scratch.style.height = rect.height + 'px';
      ctx = scratch.getContext('2d');
      ctx.scale(DPR, DPR);
      // ë®ê°œ ê·¸ë¦¬ê¸°
      ctx.fillStyle = 'rgba(0,0,0,0.92)';
      ctx.fillRect(0,0,rect.width,rect.height);
      ctx.globalCompositeOperation = 'destination-out';
    }

    function scratchAt(x,y){
      const r = 22; // ë¸ŒëŸ¬ì‹œ ë°˜ê²½
      ctx.beginPath();
      ctx.arc(x, y, r, 0, Math.PI*2);
      ctx.fill();
    }

    function handleStart(e){ drawing = true; const p = getPoint(e); scratchAt(p.x,p.y); }
    function handleMove(e){ if(!drawing) return; const p = getPoint(e); scratchAt(p.x,p.y); if(++sampleCooldown%12===0) measure(); }
    function handleEnd(){ drawing = false; measure(true); }

    function getPoint(e){
      const rect = scratch.getBoundingClientRect();
      if(e.touches && e.touches[0]){ return { x: e.touches[0].clientX-rect.left, y: e.touches[0].clientY-rect.top }; }
      return { x: e.clientX-rect.left, y: e.clientY-rect.top };
    }

    function measure(force){
      // ê°€ë²¼ìš´ ìƒ˜í”Œë§ìœ¼ë¡œ íˆ¬ëª… í”½ì…€ ë¹„ìœ¨ ì¶”ì •
      const rect = scratch.getBoundingClientRect();
      const w = Math.floor(rect.width), h = Math.floor(rect.height);
      const step = 12; // ìƒ˜í”Œ ê°„ê²©
      const img = ctx.getImageData(0,0,w,h).data;
      let clear = 0, total = 0;
      for(let y=0; y<h; y+=step){
        for(let x=0; x<w; x+=step){
          const idx = ((y*w)+x)*4 + 3; // alpha
          total++;
          if(img[idx] < 128) clear++;
        }
      }
      clearedRatio = clear/total;
      if(clearedRatio >= 0.42 || force){ finishGame(); }
    }

    function finishGame(){
      // ì˜¤ë²„ë ˆì´ í˜ì´ë“œì•„ì›ƒ, ë‹¤ìŒ ì„¹ì…˜ìœ¼ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ì´ë™
      gameCover.classList.add('done');
      setTimeout(()=>{ document.getElementById('feature').scrollIntoView({behavior:'smooth'}); }, 450);
    }

    function bindScratch(){
      resizeCanvas();
      window.addEventListener('resize', resizeCanvas);
      scratch.addEventListener('mousedown', handleStart);
      window.addEventListener('mousemove', handleMove);
      window.addEventListener('mouseup', handleEnd);
      scratch.addEventListener('touchstart', handleStart, {passive:true});
      window.addEventListener('touchmove', handleMove, {passive:true});
      window.addEventListener('touchend', handleEnd, {passive:true});
      skipGame.addEventListener('click', finishGame);
    }

    // ====== íƒ­ ì „í™˜(ì§€ë„) ======
    const tabs = document.querySelectorAll('.tab');
    const kakao = document.getElementById('kakao-map');
    const naver = document.getElementById('naver-map');
    tabs.forEach(btn=>btn.addEventListener('click',()=>{
      tabs.forEach(b=>b.setAttribute('aria-selected','false'));
      btn.setAttribute('aria-selected','true');
      const showKakao = btn.id === 'kakao-tab';
      kakao.hidden = !showKakao; naver.hidden = showKakao;
    }));

    // ====== ê°¤ëŸ¬ë¦¬ ìŠ¬ë¼ì´ë” ======
    const track = document.getElementById('track');
    const prev = document.querySelector('.nav-btn.prev');
    const next = document.querySelector('.nav-btn.next');
    function move(delta){ track.scrollBy({left: delta, behavior:'smooth'}); }
    prev.addEventListener('click', ()=> move(-window.innerWidth*0.7));
    next.addEventListener('click', ()=> move(window.innerWidth*0.7));

    // ====== Web Share API & ì „í™” ======
    const shareBtn = document.getElementById('shareBtn');
    shareBtn.addEventListener('click', async ()=>{
      const data = {title: document.title, text: 'ìš°ë¦¬ ê²°í˜¼ì‹ì— ì´ˆëŒ€í•©ë‹ˆë‹¤ ğŸ’', url: window.location.href};
      if(navigator.share){ try{ await navigator.share(data);}catch(e){} }
      else { try{ await navigator.clipboard.writeText(data.url); shareBtn.textContent='ë§í¬ ë³µì‚¬ë¨'; setTimeout(()=>shareBtn.textContent='ë§í¬ ê³µìœ ',1200);} catch(e){} }
    });
    document.getElementById('callGroom').onclick = ()=> location.href='tel:01012345678';
    document.getElementById('callBride').onclick = ()=> location.href='tel:01098765432';

    // ====== RSVP ì œì¶œ: Google Form / Webhook ì—°ë™ ======
    const GOOGLE_FORM_ACTION = '';
    const GOOGLE_FORM_MAP = { name:'', phone:'', attend:'', guest:'', note:'' }; // entry.xxxxxx í‚¤ ë§¤í•‘
    const WEBHOOK_URL = '';
    const form = document.getElementById('rsvpForm');
    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      const data = Object.fromEntries(new FormData(form).entries());
      const msg = document.getElementById('rsvpMsg');
      if(!data.name || !data.phone || !data.attend){ msg.textContent='í•„ìˆ˜ í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.'; return; }

      try{
        if (GOOGLE_FORM_ACTION) {
          const fd = new FormData();
          if(GOOGLE_FORM_MAP.name)  fd.append(GOOGLE_FORM_MAP.name,  data.name);
          if(GOOGLE_FORM_MAP.phone) fd.append(GOOGLE_FORM_MAP.phone, data.phone);
          if(GOOGLE_FORM_MAP.attend)fd.append(GOOGLE_FORM_MAP.attend,data.attend);
          if(GOOGLE_FORM_MAP.guest) fd.append(GOOGLE_FORM_MAP.guest, data.guest||'0ëª…');
          if(GOOGLE_FORM_MAP.note)  fd.append(GOOGLE_FORM_MAP.note,  data.note||'');
          await fetch(GOOGLE_FORM_ACTION, { method:'POST', body:fd, mode:'no-cors' });
        } else if (WEBHOOK_URL) {
          await fetch(WEBHOOK_URL, { method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify(data)});
        }
        msg.textContent='ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤!';
        form.reset();
      }catch(err){
        msg.textContent='ì „ì†¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.';
      }
    });

    // ====== ìŠ¤í¬ë¡¤ í˜ì´ë“œ ì¸ ======
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{ if(e.isIntersecting) e.target.classList.add('show'); });
    }, {threshold:0.15});
    document.querySelectorAll('.reveal').forEach(el=>io.observe(el));

    // ====== íŒ¨ëŸ´ë™ìŠ¤ íš¨ê³¼ ======
    const px = document.querySelector('.feature .parallax');
    const onScroll = ()=>{
      const rect = px.getBoundingClientRect();
      const h = window.innerHeight || 1;
      const progress = 1 - Math.min(Math.max(rect.top/h, -1), 1); // -1~1
      px.style.transform = `translateY(${progress*20}px)`;
    };
    window.addEventListener('scroll', ()=> requestAnimationFrame(onScroll), {passive:true});
    onScroll();

    // ê²Œì„ ë°”ì¸ë”© ì‹œì‘
    bindScratch();
  </script>
</body>
</html>
