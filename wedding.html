<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Wedding — 한지섭 & 유지연</title>
  <link href="https://fonts.googleapis.com/css2?family=Marcellus&family=Noto+Serif+KR:wght@400;500&family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
  <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=384533d32fee31cf668087354623031d&libraries=services"></script>
  <style>
    :root{
      --bg:#faf9f7; --ink:#2a2a2a; --muted:#6b6b6b; --accent:#8b6e66; --line:#ece7e2;
      --radius:16px; --soft:0 10px 30px rgba(17,24,39,.08);
    }
    *{box-sizing:border-box; margin:0; padding:0}
    html,body{height:100%}
    body{font-family:'Noto Serif KR',serif; background:var(--bg); color:var(--ink); line-height:1.65}
    h1,h2,h3{font-family:'Marcellus',serif; font-weight:400}
    img{max-width:100%; display:block}
    a{color:inherit; text-decoration:none}
    section{padding:56px 20px; max-width:980px; margin:0 auto}

    /* HERO */
    .hero{position:relative; min-height:100vh; display:flex; align-items:flex-end; justify-content:center; text-align:center; color:#fff;}
    .hero::before{content:""; position:absolute; inset:0; background:url('IMG_6131.JPG') center/contain no-repeat;}
    .hero::after{content:""; position:absolute; inset:0; background:linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.5));}
    .hero-inner{position:relative; z-index:1; display:grid; gap:16px; padding:20px; margin-bottom:60px}
    .hero-date{font-family:'Marcellus',serif; font-size:clamp(20px,4vw,28px); color:#fff; letter-spacing:.15em; text-shadow:0 2px 10px rgba(0,0,0,.4)}
    .hero .countdown{display:flex; gap:8px; justify-content:center; flex-wrap:wrap}
    .hero .cd-box{min-width:50px; padding:8px 6px; border-radius:8px; background:rgba(255,255,255,.15); backdrop-filter:blur(4px); border:1px solid rgba(255,255,255,.2)}
    .hero .cd-box .num{font-size:clamp(14px,3vw,20px); font-weight:500; color:#fff}
    .hero .cd-box .lab{font-size:10px; color:rgba(255,255,255,.9); margin-top:2px}
    
    /* Snowflakes */
    .snowflakes{position:absolute; inset:0; pointer-events:none; overflow:hidden}
    .snowflake{position:absolute; color:#fff; font-size:1em; text-shadow:0 0 5px rgba(255,255,255,.3); animation:fall linear infinite}
    .snowflake:nth-child(1){left:10%; animation-duration:10s; animation-delay:0s}
    .snowflake:nth-child(2){left:20%; animation-duration:7s; animation-delay:1s}
    .snowflake:nth-child(3){left:30%; animation-duration:12s; animation-delay:2s}
    .snowflake:nth-child(4){left:40%; animation-duration:8s; animation-delay:3s}
    .snowflake:nth-child(5){left:50%; animation-duration:11s; animation-delay:4s}
    .snowflake:nth-child(6){left:60%; animation-duration:9s; animation-delay:5s}
    .snowflake:nth-child(7){left:70%; animation-duration:13s; animation-delay:6s}
    .snowflake:nth-child(8){left:80%; animation-duration:6s; animation-delay:7s}
    .snowflake:nth-child(9){left:90%; animation-duration:10s; animation-delay:8s}
    .snowflake:nth-child(10){left:95%; animation-duration:8s; animation-delay:9s}
    
    @keyframes fall{
      0%{transform:translateY(-10vh) rotate(0deg); opacity:1}
      100%{transform:translateY(110vh) rotate(360deg); opacity:0}
    }
    


    /* INVITATION */
    .invitation{ text-align:center }
    .invitation h2{font-size:30px; margin-bottom:16px}
    .invitation p{margin:6px 0; color:#444}

    /* INTERVIEW / STORY */
    .story{max-width:880px}
    .story h2{font-size:26px; margin-bottom:22px}
    .qa{display:grid; gap:12px}
    .qac{padding:18px; border:1px solid var(--line); border-radius:var(--radius); background:#fff; box-shadow:var(--soft); text-align:left}
    .q{font-family:'Marcellus',serif; letter-spacing:.03em; color:#111}
    .a{color:#4b4b4b; margin-top:6px}

    /* FAMILY */
    .family{display:grid; gap:18px}
    .fam-grid{display:grid; grid-template-columns:repeat(2,1fr); gap:10px}
    .fam-card{border:1px solid var(--line); border-radius:var(--radius); padding:14px; background:#fff}
    .fam-card .role{font-size:13px; color:var(--muted)}

    /* GALLERY */
    .gallery h2{margin-bottom:14px}
    .gallery-container{position:relative}
    .grid{display:grid; grid-template-columns:repeat(3,1fr); gap:8px; margin-bottom:16px}
    .grid img{border-radius:10px; cursor:pointer; aspect-ratio:1/1; object-fit:cover; transition:transform 0.2s}
    .grid img:hover{transform:scale(1.05)}
    .gallery-nav{display:flex; justify-content:center; gap:12px; margin-bottom:12px}
    .nav-btn{width:44px; height:44px; border-radius:50%; border:1px solid var(--line); background:#fff; color:var(--ink); font-size:20px; cursor:pointer; transition:all 0.2s}
    .nav-btn:hover{background:var(--accent); color:#fff; border-color:var(--accent)}
    .nav-btn:disabled{opacity:0.5; cursor:not-allowed}
    .gallery-info{text-align:center; color:var(--muted); font-size:14px}
    .lightbox{position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(0,0,0,.85); opacity:0; visibility:hidden; transition:.3s; z-index:100}
    .lightbox.active{opacity:1; visibility:visible}
    .lightbox img{max-width:90%; max-height:82%; border-radius:12px; box-shadow:0 10px 25px rgba(0,0,0,.5)}
    .lightbox .nav{position:absolute; top:50%; transform:translateY(-50%); width:44px; height:44px; border-radius:50%; border:0; background:rgba(255,255,255,.2); color:#fff; font-size:28px; display:grid; place-items:center; cursor:pointer}
    .lightbox .prev{left:16px}
    .lightbox .next{right:16px}
    .lightbox .close{position:absolute; top:16px; right:20px; width:40px; height:40px; border-radius:50%; border:0; background:rgba(255,255,255,.2); color:#fff; font-size:22px; cursor:pointer}

    /* LOCATION */
    .location h2{margin-bottom:10px}
    .loc-card{border:1px solid var(--line); border-radius:var(--radius); padding:18px; background:#fff; box-shadow:var(--soft)}
    .loc-meta{color:#555}
    .loc-buttons{display:flex; flex-wrap:wrap; gap:8px; justify-content:center; margin-top:14px}
    .chip{padding:10px 14px; border-radius:999px; border:1px solid var(--line); background:#fff}

    /* ACCOUNT */
    .account .cards{display:grid; grid-template-columns:repeat(2,1fr); gap:10px; max-width:720px; margin:16px auto 0}
    .acc{border:1px solid var(--line); border-radius:var(--radius); padding:14px; background:#fff}
    .acc .who{font-weight:500}
    .acc .bank{color:#555}

    /* RSVP */
    .rsvp .form{max-width:760px; margin:0 auto; text-align:left}
    .field{display:grid; gap:6px; margin-bottom:10px}
    label{font-size:13px; color:#6b7280}
    input,select,textarea{width:100%; padding:12px 14px; border-radius:12px; border:1px solid var(--line); background:#fff}
    button.primary{display:inline-block; padding:12px 18px; border-radius:12px; background:var(--accent); color:#fff; border:0; cursor:pointer}
    .status{font-size:14px; color:#6b7280}

    /* SHAREBAR */
    .sharebar{position:sticky; bottom:12px; display:flex; justify-content:center; gap:10px; padding:10px}
    .sharebar .cta{display:inline-flex; align-items:center; gap:8px; padding:12px 16px; border-radius:14px; border:1px solid var(--line); background:#fff; box-shadow:var(--soft)}
    .sharebar .primary{background:var(--accent); color:#fff; border-color:transparent}

    /* small */
    @media (max-width:520px){ .fam-grid{grid-template-columns:1fr} .account .cards{grid-template-columns:1fr} }
  </style>
</head>
<body>
  <!-- HERO -->
  <header class="hero">
    <div class="hero-inner">
      <div class="hero-date">2026.01.18 SAT 1PM</div>
      <div class="countdown" id="countdown" aria-label="예식까지 남은 시간">
        <div class="cd-box"><div class="num" id="cd-d">00</div><div class="lab">DAYS</div></div>
        <div class="cd-box"><div class="num" id="cd-h">00</div><div class="lab">HRS</div></div>
        <div class="cd-box"><div class="num" id="cd-m">00</div><div class="lab">MIN</div></div>
        <div class="cd-box"><div class="num" id="cd-s">00</div><div class="lab">SEC</div></div>
      </div>
    </div>
    <!-- Snowflakes -->
    <div class="snowflakes" aria-hidden="true">
      <div class="snowflake">❅</div>
      <div class="snowflake">❆</div>
      <div class="snowflake">❅</div>
      <div class="snowflake">❆</div>
      <div class="snowflake">❅</div>
      <div class="snowflake">❆</div>
      <div class="snowflake">❅</div>
      <div class="snowflake">❆</div>
      <div class="snowflake">❅</div>
      <div class="snowflake">❆</div>
    </div>
  </header>

  <!-- INVITATION -->
  <section class="invitation">
    <h2>INVITATION</h2>
    <p>저희 두 사람의 작은 만남이</p>
    <p>사랑의 결실을 이루어</p>
    <p>소중한 결혼식을 올리게 되었습니다.</p>
  </section>

  <!-- STORY / INTERVIEW -->
  <section class="story">
    <h2>OUR STORY</h2>
    <div class="qa">
      <div class="qac"><div class="q">어떻게 만나게 되었나요?💕</div><div class="a">친구의 소개로 첫 만남을 가졌고, 긴 대화 끝에 서로의 마음을 확인했습니다.</div></div>
      <div class="qac"><div class="q">프로포즈는?💍</div><div class="a">크리스마스 이브🎄, 런던 하이드파크에서 조용히 마음을 전했습니다.</div></div>
      <div class="qac"><div class="q">닮은 점은?</div><div class="a">얼굴뿐만 아니라, 소소한 일상도 소중히 여기는 마음이 닮았습니다.</div></div>
    </div>
  </section>

  <!-- FAMILY -->
  <section class="family">
    <h2>FAMILY</h2>
    <div class="fam-grid">
      <div class="fam-card"><div class="role">신랑</div><div class="name">한지섭</div><div class="role">부 • 모</div><div>한상민 · 이효재</div></div>
      <div class="fam-card"><div class="role">신부</div><div class="name">유지연</div><div class="role">부 • 모</div><div>유성태 · 서문숙</div></div>
    </div>
  </section>

  <!-- GALLERY -->
  <section class="gallery">
    <h2>GALLERY</h2>
    <div class="gallery-container">
      <div class="grid" id="gallery">
        <!-- Images will be loaded here by JavaScript -->
      </div>
      <div class="gallery-nav">
        <button class="nav-btn prev" id="galleryPrev" aria-label="이전 페이지">‹</button>
        <button class="nav-btn next" id="galleryNext" aria-label="다음 페이지">›</button>
      </div>
      <div class="gallery-info">
        <span id="galleryPage">1</span> / <span id="galleryTotal">1</span>
      </div>
    </div>
    <div class="lightbox" id="lightbox" aria-hidden="true" role="dialog" aria-label="확대 보기">
      <button class="nav prev" id="lbPrev" aria-label="이전">‹</button>
      <img src="" alt="확대 이미지" id="lbImg">
      <button class="nav next" id="lbNext" aria-label="다음">›</button>
      <button class="close" id="lbClose" aria-label="닫기">×</button>
    </div>
  </section>

  <!-- LOCATION -->
  <section class="location">
    <h2>LOCATION</h2>
    <div class="loc-card">
      <div class="loc-name">소노펠리체 컨벤션 3층</div>
      <div class="loc-meta">서울 강남구 영동대로 517 · 2026년 1월 18일 (토) 오후 1시</div>
      <div class="loc-buttons" role="group" aria-label="길찾기">
        <a class="chip" href="https://map.naver.com/p/search/서울%20강남구%20영동대로%20517" target="_blank" rel="noopener">네이버지도</a>
        <a class="chip" href="https://map.kakao.com/link/search/서울%20강남구%20영동대로%20517" target="_blank" rel="noopener">카카오맵</a>
        <a class="chip" href="https://maps.apple.com/?address=서울%20강남구%20영동대로%20517" target="_blank" rel="noopener">Apple 지도</a>
        <a class="chip" href="https://maps.google.com/?q=서울%20강남구%20영동대로%20517" target="_blank" rel="noopener">Google 지도</a>
      </div>
      <div id="map" style="width:100%; height:360px; border-radius:12px; margin-top:14px"></div>
    </div>
  </section>

  <!-- ACCOUNT -->
  <section class="account">
    <h2>마음 전하실 곳</h2>
    <div class="cards">
      <div class="acc"><div class="who">신랑측</div><div class="bank">하나은행 233-891128-47907 (한지섭)</div></div>
      <div class="acc"><div class="who">신부측</div><div class="bank">국민은행 476-10101-388646 (유지연)</div></div>
    </div>
  </section>

  <!-- RSVP / GUESTBOOK -->
   <!--
  <section class="rsvp">
    <h2>GUESTBOOK</h2>
    <div class="form">
      <div class="field"><label for="gb-name">이름</label><input id="gb-name" placeholder="홍길동" /></div>
      <div class="field"><label for="gb-msg">메시지</label><textarea id="gb-msg" rows="3" placeholder="축하 메시지를 남겨주세요"></textarea></div>
      <button class="primary" id="gb-send">남기기</button>
      <p class="status" id="gb-status" role="status" aria-live="polite"></p>
    </div>
    <div id="gb-list" style="margin-top:18px; display:grid; gap:10px"></div>
  </section>
  -->

  <script>
    // ===== Countdown (KST) =====
    const target = new Date('2026-01-18T13:00:00+09:00').getTime();
    const cdD = document.getElementById('cd-d');
    const cdH = document.getElementById('cd-h');
    const cdM = document.getElementById('cd-m');
    const cdS = document.getElementById('cd-s');
    function tick(){
      const now = Date.now();
      let diff = Math.max(0, target - now);
      const d = Math.floor(diff/(1000*60*60*24)); diff -= d*86400000;
      const h = Math.floor(diff/(1000*60*60)); diff -= h*3600000;
      const m = Math.floor(diff/(1000*60)); diff -= m*60000;
      const s = Math.floor(diff/1000);
      cdD.textContent = String(d).padStart(2,'0');
      cdH.textContent = String(h).padStart(2,'0');
      cdM.textContent = String(m).padStart(2,'0');
      cdS.textContent = String(s).padStart(2,'0');
    }
    tick(); setInterval(tick, 1000);

    // ===== Kakao Map =====
    function initMap() {
      const mapContainer = document.getElementById('map');
      if (!mapContainer) return;
      
      const mapOption = {
        center: new kakao.maps.LatLng(37.5665, 126.9780), // 서울 중심 좌표
        level: 3
      };
      
      const map = new kakao.maps.Map(mapContainer, mapOption);
      
      // 주소-좌표 변환 객체 생성
      const geocoder = new kakao.maps.services.Geocoder();
      
      // 주소로 좌표 검색
      geocoder.addressSearch('서울 강남구 영동대로 517', function(result, status) {
        if (status === kakao.maps.services.Status.OK) {
          const coords = new kakao.maps.LatLng(result[0].y, result[0].x);
          
          // 결과값으로 받은 위치를 마커로 표시
          const marker = new kakao.maps.Marker({
            map: map,
            position: coords
          });
          
          // 인포윈도우로 장소에 대한 설명 표시
          const infowindow = new kakao.maps.InfoWindow({
            content: '<div style="padding:5px;font-size:12px;">소노펠리체 컨벤션 3층</div>'
          });
          infowindow.open(map, marker);
          
          // 지도의 중심을 결과값으로 받은 위치로 이동
          map.setCenter(coords);
        }
      });
    }
    
    // 카카오맵 API 로드 완료 후 지도 초기화
    if (typeof kakao !== 'undefined') {
      initMap();
    } else {
      window.addEventListener('load', function() {
        if (typeof kakao !== 'undefined') {
          initMap();
        }
      });
    }

    // ===== Gallery Pagination & Lightbox =====
    const gallery = document.getElementById('gallery');
    const galleryPrev = document.getElementById('galleryPrev');
    const galleryNext = document.getElementById('galleryNext');
    const galleryPage = document.getElementById('galleryPage');
    const galleryTotal = document.getElementById('galleryTotal');
    const lightbox = document.getElementById('lightbox');
    const lbImg = document.getElementById('lbImg');
    const lbPrev = document.getElementById('lbPrev');
    const lbNext = document.getElementById('lbNext');
    const lbClose = document.getElementById('lbClose');
    
    // All image files from IMG_6121.JPG to IMG_6193.JPG
    const allImages = [
      'IMG_6121.JPG', 'IMG_6127.JPG', 'IMG_6128.JPG', 'IMG_6129.JPG', 'IMG_6131.JPG',
      'IMG_6132.JPG', 'IMG_6133.JPG', 'IMG_6134.JPG', 'IMG_6135.JPG', 'IMG_6136.JPG',
      'IMG_6137.JPG', 'IMG_6138.JPG', 'IMG_6186.JPG', 'IMG_6193.JPG'
    ];
    
    const imagesPerPage = 9;
    let currentPage = 1;
    let currentImageIndex = 0;
    
    function loadGalleryPage(page) {
      const startIndex = (page - 1) * imagesPerPage;
      const endIndex = startIndex + imagesPerPage;
      const pageImages = allImages.slice(startIndex, endIndex);
      
      gallery.innerHTML = '';
      pageImages.forEach((src, index) => {
        const img = document.createElement('img');
        img.src = src;
        img.alt = `사진 ${startIndex + index + 1}`;
        img.onclick = () => openLightbox(startIndex + index);
        gallery.appendChild(img);
      });
      
      // Update pagination info
      galleryPage.textContent = page;
      galleryTotal.textContent = Math.ceil(allImages.length / imagesPerPage);
      
      // Update button states
      galleryPrev.disabled = page === 1;
      galleryNext.disabled = page === Math.ceil(allImages.length / imagesPerPage);
    }
    
    function nextPage() {
      if (currentPage < Math.ceil(allImages.length / imagesPerPage)) {
        currentPage++;
        loadGalleryPage(currentPage);
      }
    }
    
    function prevPage() {
      if (currentPage > 1) {
        currentPage--;
        loadGalleryPage(currentPage);
      }
    }
    
    // Initialize gallery
    loadGalleryPage(1);
    galleryNext.addEventListener('click', nextPage);
    galleryPrev.addEventListener('click', prevPage);
    
    // Lightbox functions
    function openLightbox(index) {
      currentImageIndex = index;
      lbImg.src = allImages[index];
      lightbox.classList.add('active');
      document.body.style.overflow = 'hidden';
    }
    
    function closeLightbox() {
      lightbox.classList.remove('active');
      document.body.style.overflow = '';
    }
    
    function showPrevImage() {
      currentImageIndex = (currentImageIndex - 1 + allImages.length) % allImages.length;
      lbImg.src = allImages[currentImageIndex];
    }
    
    function showNextImage() {
      currentImageIndex = (currentImageIndex + 1) % allImages.length;
      lbImg.src = allImages[currentImageIndex];
    }
    
    // Lightbox event listeners
    lbClose.addEventListener('click', (e) => {e.stopPropagation(); closeLightbox()});
    lbPrev.addEventListener('click', (e) => {e.stopPropagation(); showPrevImage()});
    lbNext.addEventListener('click', (e) => {e.stopPropagation(); showNextImage()});
    lightbox.addEventListener('click', (e) => {if(e.target === lightbox) closeLightbox()});
    
    // Keyboard navigation
    window.addEventListener('keydown', (e) => {
      if (!lightbox.classList.contains('active')) return;
      if (e.key === 'Escape') closeLightbox();
      if (e.key === 'ArrowLeft') showPrevImage();
      if (e.key === 'ArrowRight') showNextImage();
    });

    // ===== Guestbook (local demo) =====
    const gbSend = document.getElementById('gb-send');
    const gbName = document.getElementById('gb-name');
    const gbMsg = document.getElementById('gb-msg');
    const gbList = document.getElementById('gb-list');
    const gbStatus = document.getElementById('gb-status');
    const KEY = 'guestbook_v1';
    function render(){
      gbList.innerHTML='';
      const items = JSON.parse(localStorage.getItem(KEY)||'[]');
      items.forEach(({name,msg,at})=>{
        const card = document.createElement('div');
        card.style.cssText = 'border:1px solid var(--line);border-radius:12px;padding:12px;background:#fff';
        card.innerHTML = `<div style="font-weight:500">${name}</div><div style="color:#555;margin-top:4px">${msg}</div><div style="color:#999;margin-top:6px;font-size:12px">${new Date(at).toLocaleString()}</div>`;
        gbList.appendChild(card);
      });
    }
    gbSend.addEventListener('click',()=>{
      const name = gbName.value.trim(); const msg = gbMsg.value.trim();
      if(!name || !msg){ gbStatus.textContent='이름과 메시지를 입력해주세요.'; return; }
      const items = JSON.parse(localStorage.getItem(KEY)||'[]');
      items.unshift({name, msg, at: Date.now()});
      localStorage.setItem(KEY, JSON.stringify(items));
      gbName.value=''; gbMsg.value=''; gbStatus.textContent='남겨주셔서 감사합니다!';
      render();
    });
    render();

    // ===== Share & Call =====
    document.getElementById('shareBtn').addEventListener('click', async ()=>{
      const data={title:document.title, text:'우리 결혼식에 초대합니다 💐', url:location.href};
      if(navigator.share){ try{ await navigator.share(data);}catch{} }
      else { try{ await navigator.clipboard.writeText(data.url); alert('링크 복사됨'); }catch{} }
    });
    document.getElementById('callGroom').onclick=()=> location.href='tel:01012345678';
    document.getElementById('callBride').onclick=()=> location.href='tel:01098765432';
  </script>
</body>
</html>
